// For license information, see `https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/acdd635ff738/RC2a86e05d93ef430589ebc62329c991c5-source.js`.
_satellite.__registerScript('https://assets.adobedtm.com/2bf21cf7b5d8/d43a05c8c4c2/acdd635ff738/RC2a86e05d93ef430589ebc62329c991c5-source.min.js', "function setBreadcrumbs(e){var t=JSON.parse(JSON.stringify(e));t.shift(),t=t.map(function(e){if(e.name!==undefined)return e.name.replace(/,/g,\" &\")}).join(\",\").toLowerCase().trim();var r=e[e.length-1];r.categoryId==productObj.product.primaryParentCategoryId&&(params[\"entity.categoryId\"]=t,params[\"entity.categoryL2\"]=e[2]&&e[2].name.toLowerCase().replace(/,/g,\" &\"),params[\"entity.categoryL3\"]=e[3]&&e[3].name.toLowerCase().replace(/,/g,\" &\"),params[\"entity.currentCategory\"]=r.name.toLowerCase().replace(/,/g,\" &\"))}function setPageUrl(e,t){var r=e.locationBeforeTransitions&&e.locationBeforeTransitions.pathname,a=e.previousLocationBeforeTransitions&&e.previousLocationBeforeTransitions.pathname;-1<r.indexOf(productObj.product.sku)&&(-1<r.indexOf(\"/product/\")||-1<r.indexOf(\"/produit/\"))?params[t]=\"https://www.bestbuy.ca\"+r:-1<a.indexOf(productObj.product.sku)&&(-1<a.indexOf(\"/product/\")||-1<a.indexOf(\"/produit/\"))&&(params[t]=\"https://www.bestbuy.ca\"+a)}try{if(event&&event.detail&&event.detail.state&&event.detail.state.product&&event.detail.state.product.product){var productObj=event.detail.state.product,routingObj=event.detail.state.routing,parseFloatAndRound=function(e){return Math.ceil(parseFloat(e))},replaceFloatsWithRoundedInt=function(e){return e.replace(/^\\d*(\\.|\\,)?\\d?/,parseFloatAndRound(e))},params={};productObj.product.specs[\"\"]!=undefined&&(params[\"entity.color\"]=productObj.product.specs[\"\"].find(function(e){return\"Colour\"===e.name})!==undefined?productObj.product.specs[\"\"].find(function(e){return\"Colour\"===e.name}).value.toLowerCase():\"\",params[\"entity.colorFamily\"]=productObj.product.specs[\"\"].find(function(e){return\"Colour Family\"===e.name})!==undefined?productObj.product.specs[\"\"].find(function(e){return\"Colour Family\"===e.name}).value.toLowerCase():\"\"),params[\"entity.discount\"]=0<productObj.product.saving?productObj.product.saving.toFixed(0):\"\",params[\"entity.discountPct\"]=0<productObj.product.saving?Math.round(productObj.product.saving/(productObj.product.saving+productObj.product.priceWithoutEhf)*100):\"\",0<productObj.product.ehf&&(params[\"entity.ehf\"]=productObj.product.ehf.toFixed(2)),params[\"entity.event.detailsOnly\"]=\"true\",params[\"entity.hasWarranty\"]=0<productObj.product.warranties.length?\"true\":\"false\",params[\"entity.id\"]=productObj.product.sku,productObj.product.sku===productObj.availability.sku&&(params[\"entity.inventory\"]=productObj.availability.shipping.quantityRemaining),params[\"entity.isOffline\"]=\"false\",params[\"entity.isOpenBox\"]=!!/(open\\sbox)|(bo.te\\souverte)|(refurbished)|(remis.*neuf)/i.test(productObj.product.name),params[\"entity.isPreOrder\"]=productObj.product.isPreorderable,params[\"entity.model\"]=productObj.product.modelNumber,params[\"entity.numReviews\"]=productObj.product.customerRatingCount,params[\"entity.regularPrice\"]=0<productObj.product.saving?productObj.product.saving+productObj.product.priceWithoutEhf:productObj.product.priceWithoutEhf;var starRating=productObj.product.customerRating;starRating&&(params[\"entity.starRating\"]=productObj.product.customerRating),params[\"entity.value\"]=productObj.product.priceWithoutEhf,params[\"entity.vendor\"]=productObj.product.isMarketplace?\"marketplace\":\"bestbuy\",\"undefined\"!=typeof productObj.product.isSpecialDelivery&&(params[\"entity.isSpecialDelivery\"]=productObj.product.isSpecialDelivery?\"ScheduledDelivery\":\"NotScheduledDelivery\");var tmp=document.createElement(\"DIV\"),categoryBreadcrumbs=productObj&&productObj.category&&productObj.category.categoryBreadcrumb||\"\";if(event.detail.state.intl&&event.detail.state.intl.language&&\"en\"===event.detail.state.intl.language){if(categoryBreadcrumbs&&setBreadcrumbs(categoryBreadcrumbs),params[\"entity.discountEndDt\"]=productObj.product.saleEndDate!==undefined?new Date(productObj.product.saleEndDate).toISOString().replace(/-/g,\"\").slice(0,8):\"\",params[\"entity.discountEndDtUnix\"]=productObj.product.saleEndDate!==undefined?String(Date.parse(productObj.product.saleEndDate)/1e3+79199):\"\",params[\"entity.name\"]=productObj.product.name,null!==productObj.product.modelNumber.match(/\\d{2}/)){var seriesKey=productObj.product.modelNumber.match(/(?!(0|[a-zA-Z]+))(\\d{2}|\\d{1})/)[0];if(categoryBreadcrumbs&&categoryBreadcrumbs[2]&&\"21344\"==categoryBreadcrumbs[2].categoryId){var seriesModel=productObj.product.modelNumber.replace(seriesKey,\"\");params[\"entity.seriesKey\"]=seriesKey,params[\"entity.seriesModel\"]=seriesModel;var videoSpec=productObj.product.specs.Video.find(function(e){return/(Screen Size)/i.test(e.name)})||{},specsValue=videoSpec.value||\"\";params[\"entity.variantSpecValueWithUnitEn\"]=specsValue}if(categoryBreadcrumbs&&categoryBreadcrumbs[2]&&\"20232\"==categoryBreadcrumbs[2].categoryId){seriesModel=productObj.product.modelNumber.replace(seriesKey,\"\");params[\"entity.seriesModel\"]=seriesModel,params[\"entity.seriesKey\"]=seriesKey;specsValue=productObj.product.specs.Performance.find(function(e){return/(capacity)/i.test(e.name)}).value||\"\";params[\"entity.variantSpecValueWithUnitEn\"]=specsValue}}if(routingObj!=undefined&&setPageUrl(routingObj,\"entity.pageUrl\"),tmp.innerHTML=productObj.product.shortDescription,params[\"entity.shortDescription\"]=tmp.textContent||tmp.innerText||\"\",params[\"entity.validUntilUnix\"]=productObj.product.saleEndDate!==undefined?String(Date.parse(productObj.product.saleEndDate)/1e3+86399):\"\",productObj.product.specs[\"\"]!=undefined&&(params[\"entity.voiceAsstCompat\"]=productObj.product.specs[\"\"].filter(function(e){return(-1<e.name.indexOf(\"Works with Google\")||-1<e.name.indexOf(\"Works with Amazon\"))&&\"Yes\"==e.value}).map(function(e){return e.name.slice(11,e.name.length)}).join(\",\").toLowerCase()),\"29170\"==productObj.product.primaryParentCategoryId)for(var minTV=\"\",maxTV=\"\",i=0;i<productObj.product.specs[\"\"].length;i++)if(\"Min TV Size\"==productObj.product.specs[\"\"][i].name?minTV=productObj.product.specs[\"\"][i].value.replace(\" in\",\"\"):\"Max TV Size\"==productObj.product.specs[\"\"][i].name&&(maxTV=productObj.product.specs[\"\"][i].value.replace(\" in\",\"\")),\"\"!=minTV&&\"\"!=maxTV){params[\"entity.tvMountMinTVSize\"]=minTV,params[\"entity.tvMountMaxTVSize\"]=maxTV;break}if(categoryBreadcrumbs&&categoryBreadcrumbs[3]&&\"29059\"==categoryBreadcrumbs[3].categoryId){var applePencilGenOne,applePencilGenTwo,productSpecs,spec,appleTabletPenCompat;applePencilGenOne=\"Apple Pencil (1st Generation)\",applePencilGenTwo=\"Apple Pencil (2nd Generation)\",productSpecs=productObj.product.specs,spec=\"Physical Features\",appleTabletPenCompat=\"\";for(i=0;i<productSpecs[spec].length;i++)productSpecs[spec][i].value==applePencilGenOne?appleTabletPenCompat=applePencilGenOne:productSpecs[spec][i].value==applePencilGenTwo&&(appleTabletPenCompat=applePencilGenTwo);appleTabletPenCompat!==undefined&&(params[\"entity.appleTabletPenCompat\"]=appleTabletPenCompat)}}else if(event.detail.state.intl&&event.detail.state.intl.language&&\"fr\"===event.detail.state.intl.language){if(productObj&&productObj.category&&productObj.category.altCategoryBreadcrumb&&setBreadcrumbs(productObj.category.altCategoryBreadcrumb),params[\"entity.nameFr\"]=productObj.product.name,routingObj!=undefined&&setPageUrl(routingObj,\"entity.pageUrlFr\"),categoryBreadcrumbs&&categoryBreadcrumbs[2]&&\"21344\"==categoryBreadcrumbs[2].categoryId){specsValue=productObj.product.specs[\"Vid\\xe9o\"].find(function(e){return/(Format de l'\\xe9cran)/i.test(e.name)}).value||\"\";params[\"entity.variantSpecValueWithUnitFr\"]=specsValue}if(categoryBreadcrumbs&&categoryBreadcrumbs[2]&&\"20232\"==categoryBreadcrumbs[2].categoryId){specsValue=productObj.product.specs.Performance.find(function(e){return/(capacit\\xe9)/i.test(e.name)}).value||\"\";params[\"entity.variantSpecValueWithUnitFr\"]=specsValue}tmp.innerHTML=productObj.product.shortDescription,params[\"entity.shortDescriptionFr\"]=tmp.textContent||tmp.innerText||\"\"}mboxFetch(\"productPage\",params,!1)}}catch(e){_satellite.logger.warn(e)}");