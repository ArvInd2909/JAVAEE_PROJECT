!function(){var a=!1,i="Product Page",d="BLUE_SHIRT_AGENT_CHAT_STARTED",s="BLUE_SHIRT_AGENT_CHAT_ENDED",e="BLUE_SHIRT_AGENT_IFRAME_LOADED",o="BLUE_SHIRT_AGENT_MINIMIZED",r="BLUE_SHIRT_AGENT_MAXIMIZED",t="BLUE_SHIRT_AGENT_AVAILABLE",n="BLUE_SHIRT_AGENT_UNAVAILABLE",l="INIT_CHAT",c="LAUNCH_CHAT",E={AVATAR_IMG:"",GSLB_BASE_URL:""};window.addEventListener("message",function(e){document.dispatchEvent(new CustomEvent(e.data.eventName,{detail:e.data.detail}))},!1),document.addEventListener(c,function(t){embedded_svc&&embedded_svc.isIframeReady&&(embedded_svc.settings.extraPrechatFormDetails.forEach(function(e){e.label===i&&(e.value=t.detail.pdpUrl)}),embedded_svc.onHelpButtonClick())}),document.addEventListener(l,function(e){u.init(e.detail)});var _,A,m,u=(A=!0,m={start:function(e){clearInterval(_),_=setInterval(function(){A!==e.isButtonDisabled&&(e.isButtonDisabled?window.parent.dispatchEvent(new CustomEvent(n)):window.parent.dispatchEvent(new CustomEvent(t))),A=e.isButtonDisabled},1e3)},clear:function(){clearInterval(_)}},{init:function(e){var t;a||(window.embedded_svc?T(t.GSLB_BASE_URL="https://service.force.com"):(t=Object.assign(E,e||{}),(e=document.createElement("script")).setAttribute("src",t.SALESFORCE_URL+"/embeddedservice/5.0/esw.min.js"),e.onload=function(){T(t)},document.body&&document.body.appendChild(e)),a=!0)}});function T(t){var e=t.LOCALE?t.LOCALE.toLowerCase():"en",a=t.ADOBE_VISITOR_ID,n=window.embedded_svc||{};n.settings.displayHelpButton=!0,n.settings.avatarImgURL=t.AVATAR_IMG,n.settings.prechatBackgroundImgURL="en"===e?t.BACK_IMG_EN:t.BACK_IMG_FR,n.settings.language=e,n.settings.enabledFeatures=["LiveAgent"],n.settings.entryFeature="LiveAgent",n.addEventHandler("afterInitialization",function(){window.parent.dispatchEvent(new CustomEvent(d,{detail:{device:$A?$A.get("$Browser.formFactor"):"DESKTOP"}}))}),n.addEventHandler("featureLoaded",function(){m.start(n)}),n.addEventHandler("afterDestroy",function(){window.parent.dispatchEvent(new CustomEvent(s))}),n.addEventHandler("afterMinimize",function(){window.parent.dispatchEvent(new CustomEvent(o))}),n.addEventHandler("afterMaximize",function(){window.parent.dispatchEvent(new CustomEvent(r))}),n.settings.directToButtonRouting=function(e){return"fr"===embedded_svc.settings.language&&e[3].value===t.HELP_WITH_AN_EXISTING_ORDER?t.CONTACT_CENTRE_ID_FR:e[3].value===t.HELP_WITH_AN_EXISTING_ORDER?t.CONTACT_CENTRE_ID_EN:void 0},n.settings.extraPrechatInfo=[{entityFieldMaps:[{doCreate:!0,doFind:!1,fieldName:"Subject",isExactMatch:!1,label:"Subject"},{doCreate:!0,doFind:!1,fieldName:"Description",isExactMatch:!1,label:"Description"},{doCreate:!0,doFind:!1,fieldName:"Origin",isExactMatch:!1,label:"Case Origin"},{doCreate:!0,doFind:!1,fieldName:"RecordTypeId",isExactMatch:!1,label:"Case Record Type"},{doCreate:!0,doFind:!1,fieldName:"AdobeID__c",isExactMatch:!1,label:"AdobeID"},{doCreate:!0,doFind:!1,fieldName:"Product_Page__c",isExactMatch:!1,label:i}],entityName:"Case"},{entityFieldMaps:[{doCreate:!1,doFind:!0,fieldName:"LastName",isExactMatch:!0,label:"en"===e?"Last Name":"Nom"},{doCreate:!1,doFind:!0,fieldName:"FirstName",isExactMatch:!0,label:"en"===e?"First Name":"Prénom"},{doCreate:!1,doFind:!0,fieldName:"Email",isExactMatch:!0,label:"en"===e?"Email":"Motif du contact"}],entityName:"Contact"},{entityName:"Account",showOnCreate:!0,linkToEntityName:"Case",linkToEntityField:"AccountId",saveToTranscript:"AccountId",entityFieldMaps:[{isExactMatch:!0,fieldName:"RecordTypeId",doCreate:!0,doFind:!0,label:"en"===e?"AccountRecordType":"Type d'enregistrement du compte"},{isExactMatch:!0,fieldName:"FirstName",doCreate:!0,doFind:!0,label:"en"===e?"First Name":"Prénom"},{isExactMatch:!0,fieldName:"LastName",doCreate:!0,doFind:!0,label:"en"===e?"Last Name":"Nom"},{isExactMatch:!0,fieldName:"PersonEmail",doCreate:!0,doFind:!0,label:"en"===e?"Email Address":"Adresse Courriel"}]},{entityName:"LiveChatTranscript",showOnCreate:!0,saveToTranscript:"AccountId",entityFieldMaps:[{fieldName:"ReferrerUri",label:"en"===e?"Referring Site":"Site référent"}]}],n.settings.extraPrechatFormDetails=[{label:"en"===e?"AccountRecordType":"Type d'enregistrement du compte",value:"012f4000000xNs5",transcriptFields:[],displayToAgent:!0},{label:"Case Origin",value:"Chat",transcriptFields:[],displayToAgent:!0},{label:"Case Record Type",value:t.CASE_RECORD_TYPE_ID,transcriptFields:[],displayToAgent:!1},{label:"Status",value:"New",transcriptFields:[],displayToAgent:!0},{label:"Description",value:"Hi",transcriptFields:[],displayToAgent:!0},{label:"AdobeID",value:a,transcriptFields:[],displayToAgent:!1},{label:i,value:"",transcriptFields:[],displayToAgent:!0}],n.init(t.SALESFORCE_URL,t.SITE_URL,t.GSLB_BASE_URL,t.ORGANIZATION_ID,"Blue_Shirt_Chat",{baseLiveAgentContentURL:t.BASE_LIVE_AGENT_CONTENT_URL,deploymentId:t.DEPLOYMENT_ID,buttonId:"en"===e?t.BUTTON_ID_EN:t.BUTTON_ID_FR,baseLiveAgentURL:t.BASE_LIVE_AGENT_URL,eswLiveAgentDevName:t.ESW_LA_DEV_NAME,isOfflineSupportEnabled:!1})}window.parent.dispatchEvent(new CustomEvent(e))}();